<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Smart Travel Planning</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* Additional styles for enhanced search */
        .search-info {
            text-align: center;
            margin: 15px 0;
            color: #666;
            font-size: 14px;
            font-weight: 500;
        }

        .search-highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }

        .real-time-search {
            position: relative;
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .search-suggestions.active {
            display: block;
        }

        .suggestion-item {
            padding: 12px 20px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background-color 0.2s ease;
        }

        .suggestion-item:hover {
            background-color: #f8f9fa;
        }

        .suggestion-item i {
            color: #4fc3f7;
        }

        .suggestion-item .country-flag {
            font-size: 20px;
            margin-right: 8px;
        }

        .search-loading {
            position: relative;
        }

        .search-loading::after {
            content: '';
            position: absolute;
            right: 60px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #4fc3f7;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translateY(-50%) rotate(0deg); }
            100% { transform: translateY(-50%) rotate(360deg); }
        }

        .quick-filters {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .quick-filter-btn {
            padding: 8px 16px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .quick-filter-btn:hover {
            background: #e9ecef;
            border-color: #4fc3f7;
        }

        .quick-filter-btn.active {
            background: #4fc3f7;
            color: white;
            border-color: #4fc3f7;
        }

        .country-description {
            margin: 10px 0;
            color: #666;
            font-size: 14px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .country-tags {
            display: flex;
            gap: 8px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .tag {
            background: #e3f2fd;
            color: #1a237e;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .country-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-small {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            flex: 1;
            justify-content: center;
        }

        .btn-small.btn-primary {
            background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
            color: white;
        }

        .btn-small.btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 35, 126, 0.3);
        }

        .btn-small.btn-outline {
            background: white;
            color: #1a237e;
            border: 2px solid #1a237e;
        }

        .btn-small.btn-outline:hover {
            background: #1a237e;
            color: white;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            grid-column: 1 / -1;
        }

        .no-results i {
            color: #ccc;
            margin-bottom: 20px;
            font-size: 48px;
        }

        .no-results h3 {
            color: #555;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .no-results p {
            color: #888;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <!-- Header & Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-plane"></i>
                <h1>A Smart Travel Planning</h1>
            </div>
            <ul class="nav-links">
                <li>
                    <a href="index.html" class="active">
                        <i class="fas fa-home"></i> Home
                    </a>
                </li>
                <li>
                    <a href="#features">
                        <i class="fas fa-star"></i> Features
                    </a>
                </li>
                <li>
                    <a href="#search-section">
                        <i class="fas fa-search"></i> Search
                    </a>
                </li>
                <li>
                    <a href="#how-it-works">
                        <i class="fas fa-question-circle"></i> How It Works
                    </a>
                </li>
                <li>
                    <a href="dashboard.html">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                </li>
                <li>
                    <a href="login.html" class="login-btn">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </a>
                </li>
                <li>
                    <a href="login.html" class="signup-btn">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </a>
                </li>
            </ul>
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Plan Your Perfect Journey with AI</h2>
            <p>Smart algorithms create personalized itineraries based on your preferences, budget, and travel style.</p>

            <div class="hero-search-container real-time-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="hero-search" placeholder="Type 'i' for India, Israel... or any country">
                    <button class="search-btn" onclick="performHeroSearch()">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
                <div class="search-suggestions" id="hero-suggestions"></div>
            </div>

            <div class="cta-buttons">
                <a href="#search-section" class="btn-primary">
                    <i class="fas fa-search"></i> Explore Destinations
                </a>
                <a href="login.html" class="btn-secondary">
                    <i class="fas fa-rocket"></i> Start Planning
                </a>
            </div>
        </div>
        <div class="hero-image">
            <img src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Travel Planning">
        </div>
    </section>

    <!-- Search Section -->
    <section id="search-section" class="search-section">
        <h2 class="section-title">Discover Destinations</h2>
        <p class="search-info" id="search-stats">Showing 60 amazing destinations worldwide</p>

        <div class="search-tools">
            <div class="search-bar-container">
                <div class="main-search-bar real-time-search">
                    <i class="fas fa-search"></i>
                    <input type="text" id="main-search" placeholder="Start typing to search (e.g., 'i' for India, Israel...)">
                    <button id="search-button" class="btn-primary" onclick="performSearch()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
                <div class="search-suggestions" id="main-suggestions"></div>

                <div class="quick-filters">
                    <button class="quick-filter-btn" onclick="filterByContinent('Asia')">
                        <i class="fas fa-globe-asia"></i> Asia
                    </button>
                    <button class="quick-filter-btn" onclick="filterByContinent('Europe')">
                        <i class="fas fa-globe-europe"></i> Europe
                    </button>
                    <button class="quick-filter-btn" onclick="filterByBudget('$')">
                        <i class="fas fa-money-bill-wave"></i> Budget
                    </button>
                    <button class="quick-filter-btn" onclick="filterByBudget('$$$')">
                        <i class="fas fa-crown"></i> Luxury
                    </button>
                    <button class="quick-filter-btn" onclick="showAllCountries()">
                        <i class="fas fa-eye"></i> Show All
                    </button>
                </div>

                <div class="search-filters">
                    <select id="continent-filter" onchange="filterBySelect()">
                        <option value="all">All Continents</option>
                        <option value="Asia">Asia</option>
                        <option value="Europe">Europe</option>
                        <option value="North America">North America</option>
                        <option value="South America">South America</option>
                        <option value="Africa">Africa</option>
                        <option value="Oceania">Oceania</option>
                    </select>

                    <select id="budget-filter" onchange="filterBySelect()">
                        <option value="all">All Budgets</option>
                        <option value="$">Budget ($)</option>
                        <option value="$$">Moderate ($$)</option>
                        <option value="$$$">Luxury ($$$)</option>
                        <option value="$$$$">Premium ($$$$)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Search Results -->
        <div class="search-results">
            <div class="results-container" id="results-container">
                <!-- Results will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <h2 class="section-title">Smart Features</h2>
        <div class="features-grid">
            <div class="feature-card">
                <i class="fas fa-robot"></i>
                <h3>AI-Powered Planning</h3>
                <p>Our intelligent system creates optimized itineraries based on your preferences and constraints.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-dollar-sign"></i>
                <h3>Budget Optimization</h3>
                <p>Get the best value for your money with smart budget allocation across flights, hotels, and activities.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-map-marked-alt"></i>
                <h3>Real-Time Updates</h3>
                <p>Receive live updates on weather, flight status, and local events affecting your travel plans.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-users"></i>
                <h3>Group Planning</h3>
                <p>Collaborate with travel companions to create the perfect itinerary for everyone.</p>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="how-it-works">
        <h2 class="section-title">How It Works</h2>
        <div class="steps">
            <div class="step">
                <div class="step-number">1</div>
                <i class="fas fa-user-plus step-icon"></i>
                <h3>Create Account</h3>
                <p>Sign up and set your travel preferences</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <i class="fas fa-edit step-icon"></i>
                <h3>Enter Details</h3>
                <p>Tell us about your trip: dates, budget, interests</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <i class="fas fa-robot step-icon"></i>
                <h3>AI Generates Plan</h3>
                <p>Our system creates a personalized itinerary</p>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <i class="fas fa-plane-departure step-icon"></i>
                <h3>Book & Travel</h3>
                <p>Book directly through our platform and enjoy your trip</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-plane"></i> A Smart Travel Planning</h3>
                <p>Making travel planning effortless and intelligent since 2024.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-link"></i> Quick Links</h4>
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#features"><i class="fas fa-star"></i> Features</a></li>
                    <li><a href="#search-section"><i class="fas fa-search"></i> Search</a></li>
                    <li><a href="dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4><i class="fas fa-address-card"></i> Contact Us</h4>
                <p><i class="fas fa-envelope"></i> info@smarttravelplanning.com</p>
                <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                <p><i class="fas fa-map-marker-alt"></i> 123 Travel Street</p>
                <p>San Francisco, CA 94107</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 A Smart Travel Planning. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="countries.js"></script>
    <script>
        // Global variables
        let currentResults = [];
        let searchTimeout;

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Load all countries initially
            displayAllCountries();
            
            // Setup search functionality
            setupSearch();
            
            // Setup mobile menu
            setupMobileMenu();
            
            // Setup real-time search
            setupRealTimeSearch();
            
            // Setup quick filters active state
            setupQuickFilters();
            
            // Add animation to cards
            animateCardsOnScroll();
        });

        // Setup real-time search
        function setupRealTimeSearch() {
            const heroSearch = document.getElementById('hero-search');
            const mainSearch = document.getElementById('main-search');
            
            if (heroSearch) {
                heroSearch.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.trim();
                    showSearchSuggestions(searchTerm, 'hero-suggestions');
                });
                
                heroSearch.addEventListener('focus', function() {
                    const searchTerm = this.value.trim();
                    if (searchTerm.length > 0) {
                        showSearchSuggestions(searchTerm, 'hero-suggestions');
                    }
                });
                
                heroSearch.addEventListener('blur', function() {
                    setTimeout(() => {
                        const suggestions = document.getElementById('hero-suggestions');
                        if (suggestions) suggestions.classList.remove('active');
                    }, 200);
                });
            }
            
            if (mainSearch) {
                mainSearch.addEventListener('input', function(e) {
                    const searchTerm = e.target.value.trim();
                    showSearchSuggestions(searchTerm, 'main-suggestions');
                    
                    // Clear previous timeout
                    clearTimeout(searchTimeout);
                    
                    // Set new timeout for search
                    searchTimeout = setTimeout(() => {
                        if (searchTerm.length > 0) {
                            performSearch();
                        } else {
                            displayAllCountries();
                        }
                    }, 300);
                });
                
                mainSearch.addEventListener('focus', function() {
                    const searchTerm = this.value.trim();
                    if (searchTerm.length > 0) {
                        showSearchSuggestions(searchTerm, 'main-suggestions');
                    }
                });
                
                mainSearch.addEventListener('blur', function() {
                    setTimeout(() => {
                        const suggestions = document.getElementById('main-suggestions');
                        if (suggestions) suggestions.classList.remove('active');
                    }, 200);
                });
            }
        }

        // Show search suggestions
        function showSearchSuggestions(searchTerm, containerId) {
            const suggestionsContainer = document.getElementById(containerId);
            if (!suggestionsContainer) return;
            
            if (searchTerm.length < 1) {
                suggestionsContainer.classList.remove('active');
                suggestionsContainer.innerHTML = '';
                return;
            }
            
            const results = searchCountries(searchTerm);
            
            if (results.length === 0) {
                suggestionsContainer.innerHTML = `
                    <div class="suggestion-item">
                        <i class="fas fa-search"></i>
                        <span>No matches found for "${searchTerm}"</span>
                    </div>
                `;
                suggestionsContainer.classList.add('active');
                return;
            }
            
            const suggestionsHTML = results.slice(0, 5).map(country => `
                <div class="suggestion-item" onclick="selectSuggestion('${country.name}', '${containerId}')">
                    <span class="country-flag">${country.flag}</span>
                    <div>
                        <strong>${highlightMatch(country.name, searchTerm)}</strong>
                        <div style="font-size: 12px; color: #666;">
                            ${country.capital} ‚Ä¢ ${country.continent}
                        </div>
                    </div>
                </div>
            `).join('');
            
            suggestionsContainer.innerHTML = suggestionsHTML;
            suggestionsContainer.classList.add('active');
        }

        // Highlight matching text in suggestions
        function highlightMatch(text, searchTerm) {
            const lowerText = text.toLowerCase();
            const lowerSearch = searchTerm.toLowerCase();
            const index = lowerText.indexOf(lowerSearch);
            
            if (index === -1) return text;
            
            const before = text.substring(0, index);
            const match = text.substring(index, index + searchTerm.length);
            const after = text.substring(index + searchTerm.length);
            
            return before + '<span class="search-highlight">' + match + '</span>' + after;
        }

        // Select suggestion
        function selectSuggestion(countryName, containerId) {
            const isHero = containerId === 'hero-suggestions';
            const input = isHero ? document.getElementById('hero-search') : document.getElementById('main-search');
            
            if (input) {
                input.value = countryName;
                const suggestions = document.getElementById(containerId);
                if (suggestions) suggestions.classList.remove('active');
                
                if (!isHero) {
                    performSearch();
                }
            }
        }

        // Perform hero search
        function performHeroSearch() {
            const searchTerm = document.getElementById('hero-search').value.trim();
            if (searchTerm) {
                window.location.href = `#search-section`;
                setTimeout(() => {
                    document.getElementById('main-search').value = searchTerm;
                    performSearch();
                }, 100);
            }
        }

        // Perform search
        function performSearch() {
            const searchTerm = document.getElementById('main-search').value.toLowerCase();
            const continent = document.getElementById('continent-filter').value;
            const budget = document.getElementById('budget-filter').value;
            
            let results = getAllCountries();
            
            // Filter by search term
            if (searchTerm && continent !== 'all') {
                results = searchCountries(searchTerm);
            } else if (searchTerm) {
                results = searchCountries(searchTerm);
            }
            
            // Filter by continent
            if (continent && continent !== 'all') {
                results = results.filter(country => country.continent === continent);
            }
            
            // Filter by budget
            if (budget && budget !== 'all') {
                results = results.filter(country => country.averageCost === budget);
            }
            
            // Store current results
            currentResults = results;
            
            // Display results
            displaySearchResults(results);
            
            // Update search stats
            updateSearchStats(results.length);
            
            // Update quick filters active state
            updateQuickFiltersState(continent, budget);
        }

        // Display search results
        function displaySearchResults(countries) {
            const container = document.getElementById('results-container');
            if (!container) return;
            
            if (countries.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search fa-3x"></i>
                        <h3>No destinations found</h3>
                        <p>Try different search terms or filters</p>
                        <button class="btn-primary" onclick="showAllCountries()" style="margin-top: 20px;">
                            <i class="fas fa-eye"></i> Show All Destinations
                        </button>
                    </div>
                `;
                return;
            }
            
            const searchTerm = document.getElementById('main-search').value.toLowerCase();
            
            const resultsHTML = countries.map(country => `
                <div class="country-card" data-country-id="${country.id}">
                    <div class="country-flag">${country.flag}</div>
                    <img src="${country.image}" alt="${country.name}" class="country-image">
                    <div class="country-info">
                        <h3><i class="fas fa-map-marker-alt"></i> ${country.name}</h3>
                        <p class="country-description">${country.description}</p>
                        <div class="country-details">
                            <p><i class="fas fa-building"></i> <strong>Capital:</strong> ${country.capital}</p>
                            <p><i class="fas fa-globe"></i> <strong>Continent:</strong> ${country.continent}</p>
                            <p><i class="fas fa-calendar-alt"></i> <strong>Best Time:</strong> ${country.bestTime}</p>
                            <p><i class="fas fa-money-bill-wave"></i> <strong>Currency:</strong> ${country.currency}</p>
                            <p><i class="fas fa-tag"></i> <strong>Cost:</strong> ${country.averageCost}</p>
                        </div>
                        <div class="country-tags">
                            ${country.popularCities.slice(0, 3).map(city => `
                                <span class="tag"><i class="fas fa-city"></i> ${city}</span>
                            `).join('')}
                        </div>
                        <div class="country-actions">
                            <button class="btn-small btn-primary" onclick="viewCountryDetails(${country.id})">
                                <i class="fas fa-eye"></i> View
                            </button>
                            <button class="btn-small btn-outline" onclick="addToTrip(${country.id})">
                                <i class="fas fa-plus"></i> Add to Trip
                            </button>
                            <button class="btn-small btn-outline" onclick="saveCountry(${country.id})">
                                <i class="fas fa-heart"></i> Save
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = resultsHTML;
        }

        // Display all countries
        function displayAllCountries() {
            const countries = getAllCountries();
            currentResults = countries;
            displaySearchResults(countries);
            updateSearchStats(countries.length);
            resetFilters();
        }

        // Update search statistics
        function updateSearchStats(count) {
            const searchTerm = document.getElementById('main-search').value.trim();
            const continent = document.getElementById('continent-filter').value;
            const budget = document.getElementById('budget-filter').value;
            
            let statsText = `Found ${count} ${count === 1 ? 'destination' : 'destinations'}`;
            
            if (searchTerm) {
                statsText += ` for "${searchTerm}"`;
            }
            
            if (continent && continent !== 'all') {
                statsText += ` in ${continent}`;
            }
            
            if (budget && budget !== 'all') {
                statsText += ` (${budget})`;
            }
            
            document.getElementById('search-stats').textContent = statsText;
        }

        // Setup search functionality
        function setupSearch() {
            const searchButton = document.getElementById('search-button');
            const mainSearch = document.getElementById('main-search');
            
            if (searchButton) {
                searchButton.addEventListener('click', performSearch);
            }
            
            if (mainSearch) {
                mainSearch.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') performSearch();
                });
            }
        }

        // Setup quick filters
        function setupQuickFilters() {
            const quickFilterBtns = document.querySelectorAll('.quick-filter-btn');
            quickFilterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    quickFilterBtns.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    this.classList.add('active');
                });
            });
        }

        // Update quick filters state
        function updateQuickFiltersState(continent, budget) {
            const quickFilterBtns = document.querySelectorAll('.quick-filter-btn');
            quickFilterBtns.forEach(btn => {
                btn.classList.remove('active');
                
                const text = btn.textContent.toLowerCase();
                if (continent && text.includes(continent.toLowerCase())) {
                    btn.classList.add('active');
                }
                if (budget && text.includes(budget.toLowerCase())) {
                    btn.classList.add('active');
                }
            });
        }

        // Filter by continent (quick filter)
        function filterByContinent(continent) {
            document.getElementById('continent-filter').value = continent;
            document.getElementById('budget-filter').value = 'all';
            performSearch();
        }

        // Filter by budget (quick filter)
        function filterByBudget(budget) {
            document.getElementById('budget-filter').value = budget;
            document.getElementById('continent-filter').value = 'all';
            performSearch();
        }

        // Filter by select dropdowns
        function filterBySelect() {
            performSearch();
        }

        // Show all countries
        function showAllCountries() {
            document.getElementById('main-search').value = '';
            document.getElementById('continent-filter').value = 'all';
            document.getElementById('budget-filter').value = 'all';
            displayAllCountries();
            
            // Reset quick filters
            const quickFilterBtns = document.querySelectorAll('.quick-filter-btn');
            quickFilterBtns.forEach(btn => btn.classList.remove('active'));
        }

        // Reset filters
        function resetFilters() {
            const quickFilterBtns = document.querySelectorAll('.quick-filter-btn');
            quickFilterBtns.forEach(btn => btn.classList.remove('active'));
        }

        // Setup mobile menu
        function setupMobileMenu() {
            const mobileMenuBtn = document.querySelector('.mobile-menu');
            const navLinks = document.querySelector('.nav-links');
            
            if (mobileMenuBtn && navLinks) {
                mobileMenuBtn.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                    const icon = this.querySelector('i');
                    if (navLinks.classList.contains('active')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
            }
            
            // Close mobile menu when clicking on a link
            const navItems = document.querySelectorAll('.nav-links a');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (window.innerWidth <= 768) {
                        navLinks.classList.remove('active');
                        const icon = mobileMenuBtn.querySelector('i');
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
            });
        }

        // Animate cards on scroll
        function animateCardsOnScroll() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Observe cards after they're loaded
            setTimeout(() => {
                const cards = document.querySelectorAll('.country-card');
                cards.forEach(card => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    observer.observe(card);
                });
            }, 500);
        }

        // Global functions for buttons
        window.viewCountryDetails = function(countryId) {
            const country = getCountryById(countryId);
            if (country) {
                alert(`üó∫Ô∏è ${country.name} ${country.flag}\n\n` +
                    `üèõÔ∏è Capital: ${country.capital}\n` +
                    `üåç Continent: ${country.continent}\n` +
                    `üí∞ Currency: ${country.currency}\n` +
                    `üìÖ Best Time: ${country.bestTime}\n` +
                    `üíµ Average Cost: ${country.averageCost}\n` +
                    `üèôÔ∏è Popular Cities: ${country.popularCities.join(', ')}\n` +
                    `üó£Ô∏è Languages: ${country.languages.join(', ')}\n\n` +
                    `üìù ${country.description}`);
            }
        };

        window.addToTrip = function(countryId) {
            const country = getCountryById(countryId);
            if (country) {
                const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
                
                if (isLoggedIn) {
                    let trips = JSON.parse(localStorage.getItem('userTrips') || '[]');
                    trips.push({
                        countryId: countryId,
                        countryName: country.name,
                        flag: country.flag,
                        addedAt: new Date().toISOString(),
                        status: 'planning'
                    });
                    localStorage.setItem('userTrips', JSON.stringify(trips));
                    
                    // Show success notification
                    showNotification(`‚úì Added ${country.name} ${country.flag} to your trip!`, 'success');
                } else {
                    alert(`üîí Please login to add ${country.name} to your trip\n\nClick "Login" or "Sign Up" in the navigation menu.`);
                }
            }
        };

        window.saveCountry = function(countryId) {
            const country = getCountryById(countryId);
            if (country) {
                let saved = JSON.parse(localStorage.getItem('savedCountries') || '[]');
                
                // Check if already saved
                if (saved.some(c => c.id === countryId)) {
                    showNotification(`${country.name} is already saved!`, 'info');
                    return;
                }
                
                saved.push({
                    id: countryId,
                    name: country.name,
                    flag: country.flag,
                    savedAt: new Date().toISOString()
                });
                
                localStorage.setItem('savedCountries', JSON.stringify(saved));
                showNotification(`‚ù§Ô∏è Saved ${country.name} ${country.flag} to favorites!`, 'success');
            }
        };

        // Notification function
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification-toast ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            // Add styles if not already added
            if (!document.getElementById('notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    .notification-toast {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: white;
                        padding: 15px 25px;
                        border-radius: 10px;
                        box-shadow: 0 5px 20px rgba(0,0,0,0.15);
                        display: flex;
                        align-items: center;
                        gap: 12px;
                        z-index: 9999;
                        transform: translateX(120%);
                        transition: transform 0.4s ease;
                        border-left: 4px solid #4fc3f7;
                    }
                    .notification-toast.show {
                        transform: translateX(0);
                    }
                    .notification-toast.success {
                        border-left-color: #66bb6a;
                    }
                    .notification-toast.success i {
                        color: #66bb6a;
                    }
                    .notification-toast.info i {
                        color: #4fc3f7;
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Hide and remove after 3 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 400);
            }, 3000);
        }

        // Smooth scroll to sections
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if (href === '#') return;
                
                if (href.startsWith('#') && document.querySelector(href)) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    const headerHeight = document.querySelector('.header').offsetHeight;
                    const targetPosition = target.offsetTop - headerHeight;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>

</html>